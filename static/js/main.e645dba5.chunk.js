(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{81:function(e,t,a){e.exports=a(95)},86:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(51),c=a.n(s),l=(a(86),a(52)),i=a(53),o=a(65),u=a(54),m=a(67),p=a(73),h=a(76),E=a(77),v=a.n(E),f=(a(93),a(74)),d=a(75),g="http://www2.culture.gouv.fr/documentation/museo",y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hasImg:!0},a.alert=function(){a.setState({hasImg:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.item,t=e.VIDEO?"".concat(g).concat(e.VIDEO.split(";")[0]):"";this.setState({hasImg:""!==t&&!t.match(/logo8-v/g)})}},{key:"imgDesc",value:function(){var e=this.props.item,t=e.VIDEO?"".concat(g).concat(e.VIDEO.split(";")[0]):"";return this.state.hasImg?r.a.createElement("section",null,r.a.createElement("div",{className:"left-50"},this.img(t)),r.a.createElement("div",{className:"right-50"},this.desc())):r.a.createElement("section",null,this.desc())}},{key:"img",value:function(e){return r.a.createElement("img",{className:"picto-musee",onError:this.alert,src:e})}},{key:"desc",value:function(){var e=this.state.hasImg?200:400,t=(this.props.item.ATOUT||this.props.item.INTERET).replace(/#/g,"\n").replace(/&quot;/g,'"').replace(/\u0092/g,"'");return t.length>e&&(t=t.substring(0,e)+"\u2026"),r.a.createElement("p",{className:"description"},t,r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",href:"http://www2.culture.gouv.fr/public/mistral/museo_fr?ACTION=CHERCHER&FIELD_98=REF&VALUE_98="+this.props.item.REF}," ","En savoir plus"))}},{key:"phone",value:function(){var e=this.props.item.TEL_M.replace(/^.*?((?:[0-9][0-9]\s*){5}).*$/,"$1");return e?r.a.createElement("span",null,"T\xe9l :"," ",r.a.createElement("a",{href:"tel:".concat(e.replace("/s/g",""))},e)):r.a.createElement("span",null)}},{key:"address",value:function(){var e=this.props.item;return e.CP_M?r.a.createElement("span",null,"Adresse :"," ",r.a.createElement("span",null,[e.ADRL1_M,e.CP_M,e.VILLE_M].filter(function(e){return e}).join(", ")),r.a.createElement("br",null)):r.a.createElement("span",null)}},{key:"site",value:function(){var e,t=this.props.item;return t.URL_M?r.a.createElement("span",null,"Site : ",r.a.createElement("a",{href:(e=t.URL_M,/^https?:\/\//i.test(e)?e:"http://".concat(e))},t.URL_M.substring(0,20)+"\u2026")):r.a.createElement("span",null)}},{key:"contact",value:function(){this.props.item;return r.a.createElement("address",null,this.address(),r.a.createElement("div",{className:"left-50"},this.phone()),r.a.createElement("div",{className:"right-50"},this.site()))}},{key:"render",value:function(){var e=this.props.item;return r.a.createElement(f.a,{position:[e.location.lat,e.location.lon]},r.a.createElement(d.a,null,r.a.createElement("div",{className:"title"},r.a.createElement("h4",null,e.NOMOFF),r.a.createElement("small",null,e.DOMPAL||e.THEMES)),r.a.createElement("div",null,this.imgDesc(),this.contact())))}}]),t}(n.Component),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/museomap/museo.json").then(function(e){return e.json()}).then(function(t){e.setState({data:t})})}},{key:"markers",value:function(){return this.state.data.map(function(e){return r.a.createElement(y,{key:e.REF,item:e})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{center:[46.8534,2.3488],zoom:6,maxZoom:50,className:"Map"},r.a.createElement(h.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(v.a,null,this.markers())))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[81,2,1]]]);
//# sourceMappingURL=main.e645dba5.chunk.js.map